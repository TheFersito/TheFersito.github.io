<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" href="imagenes/logo.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mensaje</title>

  <!-- Fuentes -->
  <link rel="stylesheet" type="text/css" href="//undertalefonts.duodecima.technology/webfonts/stylesheet.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
  body {
    margin: 0;
    background-color: black;
    color: white;
    font-family: 'Determination Mono', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    user-select: none;
  }

  @media (max-width: 768px) {
    body { font-family: 'Press Start 2P', monospace; }
  }

  .caja-texto {
    border: 4px solid white;
    padding: 20px;
    width: 80%;
    max-width: 600px;
    font-size: 1.2em;
    box-sizing: border-box;
    background-color: black;
    white-space: pre-wrap;
    text-align: center;
  }

  .cursor {
    display: inline-block;
    width: 10px;
    background-color: white;
    margin-left: 3px;
    animation: parpadeo 1s infinite;
  }

  @keyframes parpadeo {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  .boton-regresar {
    position: fixed;
    top: 20px;
    left: 20px;
    background-color: white;
    color: black;
    border: 2px solid black;
    padding: 10px 20px;
    font-size: 1em;
    border-radius: 8px;
    cursor: pointer;
    text-decoration: none;
    font-family: 'Determination Mono', monospace;
    transition: background-color 0.3s, color 0.3s;
    z-index: 999;
  }

  .boton-regresar:hover {
    background-color: black;
    color: white;
  }

  .indicador-corazon {
    display: block;
    margin: 10px auto 0;
    width: 32px; /* ajusta al tamaño real de tu imagen */
    height: auto;
    animation: parpadeo 1s infinite;
  }
</style>
</head>

<body>
  <!-- Botón regresar -->
  <a href="Arianaweb-CartasPoemasALT.html" class="boton-regresar">⟵ Regresar</a>

  <!-- Caja de texto -->
  <div class="caja-texto" id="cajaTexto"></div>

  <!-- Sonido -->
  <audio id="typeSound" src="sonidos/snd_txt1.mp3" preload="metadata"></audio>

<script>
  const mensajes = [
      "Antes que nada,\npresiona o haz click en este cuadro para\ncontinuar, esto solo lo podras ver una vez.",
      "Bien, me haz hecho caso.",
	  "Comenzamos.",
      "Sabes?, siempre me preocupo por ti, rezo por ti.",
	  "Pienso en ti y muchas cosas.",
      "Me preocupo demasiado por ti...",
	  "Eres alguien increible, lo sabes, y siempre estaré para ti.",
	  "Quisiera tambien saber si haz desayunado o comido algo, me preocupa tu estado actualmente.",
	  "No quiero perderte...",
	  "Eres una personita que logro cambiar mi vida, por asi decirlo.",
	  "Alguien que dejo una marca en mi corazón.\nUna marca que nunca se podra quitar.",
	  "Por eso, quiero decirte que.",
	  "Te amo.",
	  "Eres demasiado, mucho para mi.",
	  "Haz hecho mucho por mi, sacrificaste parte de ti con tal de poder verme, con tal de poder abrazarme.",
	  "Crees que eso fue bonito y único?",
	  "Crees que puedas repetir eso?",
	  "Ja, yo creo que no.",
	  "Tu y yo quedamos en algo.",
	  "Pero aún asi, el cariño que te tengo, es...\nInfinito de cierto modo.",
	  "Sé que no la estas pasando bien.",
	  "Sé que te encuentras mal, desanimada aveces.",
	  "Escucharte decir eso, escuchar que te va mal.",
	  "Me da miedo...",
	  "Miedo de no estar contigo para darte un abrazo y decir que todo va a estar bien.",
	  "Quisiera estar contigo, acompañarte en todo momento.",
	  "Entiendo si no te parece correcto o no lo encuentras bien.",
	  "Pero viendo como van las cosas...",
	  "No me importa que tan complicado sea verte, hablarte o escribirte.",
	  "Dare todo con tal de poder cumplir con mi promesa.",
	  "Una promesa que no quiero romper.\nLa única promesa que estoy dispuesto a seguir.",
	  "´´Apoyarte, amarte, cuidarte, sin importar \nlas cirscuntancias, como buenos amigos.´´",
	  "Tu y Yo\nYo y Tu",
	  "Viviendo juntos, donde todo lo malo no se encuentre presente...",
	  "Eso es bonito, no?",
	  "Lo considero como un deseo.",
	  "Una meta...",
	  "Es algo bonito y tierno jajaja",
	  "Pero si, ten en cuenta que nunca te dejare, nunca te olvidare.",
	  "Y con este medallón que te regalé,\nNUNCA lo perdere...",
	  "Por que si lo hiciera...",
	  "Me odiaria a mi mismo, más de lo que hago.",
	  "Y por qué?",
	  "Fácil.",
	  "Porque te amo <3",
	  "Y como siempre te lo digo...",
	  "Nunca te rindas.\nSentirse mal es algo normal.",
	  "Pero ten siempre en cuenta, que no importa que tan fea sea la situación para ti.",
	  "Que yo estaré siempre para tí.",
	  "Siempre",
	  "Siempre",
	  "Para que puedas ser feliz.",
	  "Eso es todo lo que tenia que decir.",
	  "Feliz cumpleaños mi querida\nAriana Collantes Velasquez.",
	  "Tu Fersito, está dispuesto a seguirte y apoyarte durante tu camino en el presenté y en el futuro.",
	  "No puedes negarte, tendras que soportarme.",
	  "Jajaja",
	  "Te quiero muchoooooo",
	  "Te deseo lo mejoooor",
	  "Siempre te dire eso y no me cansaré de decirtelo.",
	  "Y esto ya es todo, ya puedes irte.",
	  "...",
	  "...",
	  "...",
	  "Nop, no hay nada mas.",
	  "...",
	  "...",
	  "...",
	  "...",
	  "No tienes nada mejor que hacer?",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
	  "...",
    ];

   let mensajeIndex = 0;
  let charIndex = 0;
  const caja = document.getElementById('cajaTexto');
  const typeSound = document.getElementById('typeSound');
  let escribiendo = false;

  function escribirMensaje() {
    escribiendo = true;
    const texto = mensajes[mensajeIndex];
    if (charIndex < texto.length) {
      caja.innerHTML = texto.substring(0, charIndex+1) + '<span class="cursor"></span>';
      if (texto[charIndex] !== " " && texto[charIndex] !== "\n") {
        typeSound.currentTime = 0;
        typeSound.play();
      }

      let delay = 50;
      const currentChar = texto[charIndex];
      if (currentChar === "," || currentChar === ".") delay = 300;

      charIndex++;
      setTimeout(escribirMensaje, delay);
    } else {
      // Mostrar el corazón dentro del cuadro al terminar
      caja.innerHTML = texto + '<br><img src="imagenes/corazon.png" alt="Corazón" class="indicador-corazon">';
      escribiendo = false;
    }
  }

  function siguienteMensaje() {
    if (escribiendo) return;
    mensajeIndex++;
    if (mensajeIndex >= mensajes.length) mensajeIndex = 0;
    charIndex = 0;
    escribirMensaje();
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') siguienteMensaje();
  });

  document.addEventListener('click', () => siguienteMensaje());

  escribirMensaje();
</script>
</body>
</html>
