<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mensaje</title>

  <!-- Fuentes -->
  <link rel="stylesheet" type="text/css" href="//undertalefonts.duodecima.technology/webfonts/stylesheet.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: 'Determination Mono', monospace; /* Fuente PC por defecto */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      user-select: none;
    }

    @media (max-width: 768px) {
      body {
        font-family: 'Press Start 2P', monospace; /* Fuente para móviles */
      }
    }

    .caja-texto {
      border: 4px solid white;
      padding: 20px;
      width: 80%;
      max-width: 600px;
      font-size: 1.2em;
      box-sizing: border-box;
      background-color: black;
      white-space: pre-wrap;
    }

    .cursor {
      display: inline-block;
      width: 10px;
      background-color: white;
      margin-left: 3px;
      animation: parpadeo 1s infinite;
    }

    @keyframes parpadeo {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .boton-regresar {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: white;
      color: black;
      border: 2px solid black;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
      text-decoration: none;
      font-family: 'Determination Mono', monospace;
      transition: background-color 0.3s, color 0.3s;
      z-index: 999;
    }
	@media (max-width: 768px) {
     .boton-regresar {
        font-family: 'Press Start 2P', monospace; /* Fuente para móviles */
      }
    }

    .boton-regresar:hover {
      background-color: black;
      color: white;
    }
  </style>
</head>

<body>
  <!-- Botón regresar -->
  <a href="index.html" class="boton-regresar">⟵ Regresar</a>

  <!-- Caja de texto -->
  <div class="caja-texto" id="cajaTexto"></div>

  <!-- Sonido -->
  <audio id="typeSound" src="sonidos/snd_txt1.mp3" preload="auto"></audio>

  <!-- Scripts -->
  <script>
    const mensajes = [
      "Hola, humano.\nTe he estado esperando aquí.",
      "Sabía que vendrías algún día.",
      "Recuerda siempre ser tú mismo.",
      "Nos vemos pronto..."
    ];

    let mensajeIndex = 0;
    let charIndex = 0;
    const caja = document.getElementById('cajaTexto');
    const typeSound = document.getElementById('typeSound');
    let escribiendo = false;

    function escribirMensaje() {
      escribiendo = true;
      const texto = mensajes[mensajeIndex];
      if (charIndex < texto.length) {
        caja.innerHTML = texto.substring(0, charIndex+1) + '<span class="cursor"></span>';
        if (texto[charIndex] !== " " && texto[charIndex] !== "\n") {
          typeSound.currentTime = 0;
          typeSound.play();
        }
        charIndex++;
        setTimeout(escribirMensaje, 50);
      } else {
        caja.innerHTML = texto; // quitar cursor al terminar
        escribiendo = false;
      }
    }

    function siguienteMensaje() {
      if (escribiendo) return; // si está escribiendo, no pasar
      mensajeIndex++;
      if (mensajeIndex >= mensajes.length) {
        mensajeIndex = 0; // reinicia o puedes poner return para finalizar
      }
      charIndex = 0;
      escribirMensaje();
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        siguienteMensaje();
      }
    });

    document.addEventListener('click', () => {
      siguienteMensaje();
    });

    escribirMensaje();
  </script>
</body>
</html>
